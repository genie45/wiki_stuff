/* #region Notice */
.map-notice {
    display: flex;
    align-items: center;
    gap: 1em;
    padding: 0.5em;
    border: 1px solid var(--datamaps-notice-border-color);
    border-radius: 8px;
    font-size: 110%;
    background: var(--datamaps-notice-background-color);
    margin-bottom: 1em;
}
  
.map-notice-image {
    width: 100px;
    height: 100px;
    background: url(/images/thumb/c/cc/Note.png/100px-Note.png);
}
  
.map-notice a {
    font-weight: bold;
}
/* #endregion */  

.ext-datamaps-container {
    background: var(--datamaps-container-background-color);
}
.ext-datamaps-container-leaflet.leaflet-container {
    background: #0b0b0b4d;
}
.ext-datamaps-container .leaflet-popup-content-wrapper, .ext-datamaps-container .leaflet-popup-tip {
    background: var(--datamaps-popup-background-color);
    color: var(--datamaps-popup-text-color);
}
.ext-datamaps-container-leaflet .datamap-popup .datamap-popup-location {
    color: inherit;
    opacity: 0.8;
}
.ext-datamaps-container .leaflet-marker-icon {
    filter: drop-shadow(0 0 2px #fff);
}
.ext-datamaps-control button > span[class*="oo-ui-icon-"] {
    filter: var(--oo-ui-icon-filter--normal);
}
.leaflet-container a {
    color: var(--datamaps-popup-text-link-color)
}
.leaflet-control {
    color: #000;
}
.ext-datamaps-container .datamap-popup .datamap-popup-subtitle {
    color: var(--datamaps-popup-subtitle-text-color);
}
.ext-datamaps-popup-link,
.leaflet-container .leaflet-popup-close-button{
    filter: invert(1) brightness(55%);
}
.map-notice ~ .tabber .tabber__tab {
    padding: 0.7em 1em;
    font-size: 110%;
    background: var(--datamaps-tabber-background-color);
}
.map-notice ~ .tabber .tabber__tab--active {
    background: var(--datamaps-tabber-background-active-color);
}
/* 7b3509f backport */
@media screen and (max-width: 720px) {
    .ext-datamaps-control-expandable .ext-datamaps-control-expandable-content > .oo-ui-menuLayout {
        height: 56vh;
    }
}
/* Scroll animation may be laggy on some devices */
.map-notice ~ .tabber .tabber__section {
    scroll-behavior: revert;
}
/* Spawn maps */
.datamap-csm-legend-rect {
    display: inline-block;
    vertical-align: middle;
    margin-right: 6px;
    box-shadow: 0 0 1px 1px #0002;
    width: 16px;
    height: 16px
}
.datamap-csm-rarities {
    margin: 6px 0 6px;
    display: flex;
    justify-content: center;
    gap: 8px;
    align-items: center;
    flex-wrap: wrap;
    padding: 3px 4px;
}
.datamap-csm-rarities .oo-ui-fieldLayout.oo-ui-labelElement,
.datamap-csm-rarities .oo-ui-fieldLayout.oo-ui-fieldLayout-align-inline {
    margin-top: 0;
}
.datamap-csm-rarities .oo-ui-fieldLayout {
    font-size: 94%
}
.datamap-csm-groups .oo-ui-panelLayout-padded { padding: 6px 7px }
.datamap-csm-groups > .oo-ui-panelLayout-padded.oo-ui-panelLayout-framed { margin: 6px 0; padding: 6px 7px }
.datamap-csm-groups > .oo-ui-layout > ul { margin: 4px 0 -6px; list-style: none }
.datamap-csm-groups ul .oo-ui-panelLayout-padded.oo-ui-panelLayout-framed { margin: 6px 0 }
.datamap-csm-groups > .oo-ui-layout > .oo-ui-fieldLayout .oo-ui-labelElement-label { font-weight: 500 }
.datamap-csm-groups .is-detail { display: none }
.datamap-csm-legend.with-details .is-detail { display: block }
.datamap-csm-legend .csm-is-hidden ul { display: none; }
.datamap-csm-legend > .oo-ui-comboBoxInputWidget { margin-top: 4px; }
.datamap-csm-groups ul ul { font-size: 95%; }
.datamap-csm-legend {
    min-height: 300px;
}
.oo-ui-csm-last-matched-item {
    border-bottom: 2px double #0003;
    margin-bottom: 0.3em;
}

.datamap-explorer-note-id {
	opacity: 0.4;
}

/* adjustments for dark theme */
html[class*="theme-dark"] .ext-datamaps-control-expandable {
    background: #222;
}

html[class*="theme-dark"] .leaflet-control {
	background-color: #444;
    color: #eaecf0;
}

html[class*="theme-dark"] .leaflet-bar button {
    color: #eaecf0;
}

html[class*="theme-dark"] .leaflet-bar button:hover, html[class*="theme-dark"] .leaflet-bar button:focus {
	background-color: #757575;
}
